[GENERAL]
description   = FlyMine

db_adaptor    = Bio::DB::GFF
db_args       = -adaptor dbi::pg
	        -dsn     dbi:Pg:dbname=flymine;host=localhost
host = merry
user          = kmr
pass          = kmr

aggregators = transcript alignment orf
plugins = SequenceDumper FastaDumper RestrictionAnnotator

# list of tracks to turn on by default
default features = Genes

# The class of the objects used to establish the reference coordinates.
reference class  = Chromosome

# Web site configuration info
stylesheet  = /gbrowse/gbrowse.css
buttons     = /gbrowse/images/buttons
tmpimages   = /gbrowse/tmp

# where to link to when user clicks in detailed view
link          = AUTO

# what image widths to offer
image widths  = 450 640 800 1024

# default width of detailed view (pixels)
default width = 800
default features = Exons
                   Contigs
                   SuperContigs
                   ChromosomeBands
                   RepeatRegions

# max and default segment sizes for detailed view
max segment     = 500000
default segment = 50000

# from lookup_features_from_db() - doesn't appear to work
landmark padding = 100

# zoom levels
zoom levels    = 100 200 1000 2000 5000 10000 20000 40000 100000 200000 500000 1000000

# colors of the overview, detailed map and key
overview bgcolor = lightgrey
detailed bgcolor = lightgoldenrodyellow
key bgcolor      = beige

# examples to show in the introduction
examples = Drosophila_melanogaster_chr_X
	   Drosophila_melanogaster_chr_2L:195,000..205,000

# "automatic" classes to try when an unqualified identifier is given
automatic classes = Symbol Gene Clone Transcript Exon ChromosomeBand Contig Supercontig 

### HTML TO INSERT AT VARIOUS STRATEGIC LOCATIONS ###
# inside the <head></head> section
head =
    <link rel="stylesheet" type="text/css" href="http://www.flymine.org/style/default.css"/>
    <link rel="stylesheet" type="text/css" href="webapp.css"/>
    <link rel="stylesheet" type="text/css" href="model/model.css"/>

# at the top...
header =

# a footer
footer = <hr>
	<table width="100%">
	<TR>
	<TD align="LEFT" class="databody">
	For the source code for this browser, see the <a href="http://www.gmod.org">
	Generic Model Organism Database Project.</a>  For other questions, send
	mail to <a href="mailto:lstein@cshl.org">lstein@cshl.org</a>.
	</TD>
	</TR>
	</table>
	<hr>

# Various places where you can insert your own HTML -- see configuration docs
html1 = 
html2 = 
html3 = 
html4 = 
html5 = 
html6 = 

# Default glyph settings
[TRACK DEFAULTS]
glyph       = generic
height      = 8
bgcolor     = blue
fgcolor     = green
fontcolor   = black
font2color  = grey
label density = 25
bump density  = 100
keystyle = beneath
link         = sub {
    my $feature = shift;
    my ($id) = $feature->get_tag_values("FlyMineID");
    if (defined $id) {
      return "@@@FLYMINE_WEBAPP_VIEW_BY_ID_PREFIX@@@$id";
    } else {
      return undef;
    }
  }

### TRACK CONFIGURATION ####
# the remainder of the sections configure individual tracks

[ChromosomeBands:overview]
feature      = chromosomeband
glyph        = span
height       = 5
description  = 0
label        = 1
label density = 1
bump density  = 1
key          = Chromosome bands

[ChromosomeBands]
feature      = chromosomeband
glyph        = span
height       = 5
description  = 0
label        = 1
key          = Chromosome bands

[Exons]
feature      = exon
glyph        = generic
bgcolor      = blue
forwardcolor = green
reversecolor = turquoise
strand_arrow = 1
height       = 6
description  = 1
key          = Exons

[tRNAs]
feature      = trna
glyph        = generic
bgcolor      = #dddd44
forwardcolor = green
reversecolor = turquoise
strand_arrow = 1
height       = 6
description  = 1
key          = TRNA

[RepeatRegions]
feature      = repeatregion
glyph        = generic
bgcolor      = yellow
forwardcolor = red
reversecolor = #ff3333
strand_arrow = 1
height       = 6
description  = 1
key          = Repeat regions

[Contigs]
feature      = contig
glyph        = span
bgcolor      = green
forwardcolor = #ffff00
reversecolor = #ff33ff
strand_arrow = 1
height       = 6
description  = 1
key          = Contigs

[SuperContigs:overview]
feature      = supercontig
glyph        = span
bgcolor      = green
forwardcolor = #ffff00
reversecolor = #ff33ff
strand_arrow = 1
height       = 6
description  = 1
key          = Supercontigs

[DNA/GC Content]
glyph        = dna
global feature = 1
height       = 40
do_gc        = 1
fgcolor      = red
axis_color   = blue

[DNA]
glyph          = dna
global feature = 1
height         = 40
do_gc          = 0
fgcolor        = red
axis_color     = blue
strand         = both
key            = DNA

[Translation]
glyph          = translation
global feature = 1
height         = 40
fgcolor        = purple
start_codons   = 0
stop_codons    = 1
translation    = 6frame
key            = 6-frame translation

